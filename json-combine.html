<link rel="import" href="../polymer/polymer.html">

<!--
A polymer web component that combines two JSON objects into a single JSON object.

Example:

    <json-combine
        data-in1="[[dataIn1]]"
        data-in2="[[dataIn2]]"
        data-out="{{dataOut}}"
        combine-function="[[transform]]">
    </json-combine>

@demo demo/index.html
-->

<script>
  (function() {
    Polymer({
      is: 'json-combine',

      properties: {
        /**
         * JSON input data.  First argument of combine function.
         */
        dataIn1: {
          type: Object
        },

        /**
         * JSON input data.  Second argument of combine function.
         */
        dataIn2: {
          type: Object
        },

        /**
         * The function to combine the input data.  Has the following signature:
         * function (dataIn1, dataIn2) { return dataOut; }
         */
        combineFunction: {
          type: Object
        },

        /**
         * The combined JSON output data.
         */
        dataOut: {
          type: Object,
          notify: true,
          computed: 'combine(dataIn1, dataIn2, combineFunction)'
        }
      },

      combine: function() {
        return this.combineFunction(this.dataIn1, this.dataIn2);
      }
    });
  })();
</script>
